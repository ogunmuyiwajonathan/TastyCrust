<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="icon" type="image/svg+xml" href="tasty.png" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasty Crust Restaurant | Modern Food Ordering</title>
  <link href="./output.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    .menu-tab {
      background-color: #ffffff;
      /* White background by default */
      color: #4b5563;
      /* Gray text by default */
    }

    .menu-tab:hover {
      background-color: #fef2f2;
      /* Red-50 on hover */
      color: #dc2626;
      /* Red-600 text on hover */
    }

    /* Active class is managed by JavaScript to override the default and hover */
    .menu-tab.active {
      background-color: #dc2626;
      /* Red-600 background for active */
      color: #ffffff;
      /* White text for active */
    }
  </style>
</head>

<body class="bg-gray-50">
  <nav class="nav shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <a href="#" class="logo flex items-center space-x-2">
        <img src="tasty.png" alt="Tasty Crust Logo" class="w-10 h-10">
        <span class="text-2xl font-bold text-red-600">Tasty Crust</span>
      </a>

      <div class="hidden md:flex space-x-8">
        <a href="#" class="text-gray-700 hover:text-red-600 font-medium">Home</a>
        <a href="#menu" class="text-gray-700 hover:text-red-600 font-medium">Menu</a>
        <a href="#about" class="text-gray-700 hover:text-red-600 font-medium">About</a>
        <a href="#contact" class="text-gray-700 hover:text-red-600 font-medium">Contact</a>
      </div>

      <div class="flex items-center space-x-4">
        <button id="cart-toggle" class="relative text-gray-700 hover:text-red-600">
          <i class="fas fa-shopping-cart text-xl"></i>
          <span id="cart-count"
            class="absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
        </button>

        <button id="mobile-menu-toggle" class="md:hidden text-gray-700">
          <i class="fas fa-bars text-xl"></i>
        </button>
      </div>
    </div>

    <div id="mobile-menu" class="md:hidden bg-white px-4 py-2 hidden">
      <a href="#" class="block py-2 text-gray-700 hover:text-red-600">Home</a>
      <a href="#menu" class="block py-2 text-gray-700 hover:text-red-600">Menu</a>
      <a href="#about" class="block py-2 text-gray-700 hover:text-red-600">About</a>
      <a href="#contact" class="block py-2 text-gray-700 hover:text-red-600">Contact</a>
    </div>
  </nav>

  <div id="cart-sidebar"
    class="transition duration-400 ease-in-out fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-xl z-50 overflow-y-auto transform translate-x-full">
    <div class="p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800">Your Cart</h2>
        <button id="close-cart" class="text-gray-500 hover:text-red-600">
          <i class="fas fa-times text-2xl"></i>
        </button>
      </div>

      <div id="cart-items" class="mb-6">
        <p id="empty-cart-message" class="text-gray-500 text-center py-8">Your cart is empty. Add some delicious
          items!</p>
      </div>

      <div class="border-t pt-4">
        <div class="flex justify-between mb-2">
          <span class="text-gray-700">Subtotal</span>
          <span id="cart-subtotal" class="font-bold">$0.00</span>
        </div>
        <div class="flex justify-between mb-4">
          <span class="text-gray-700">Tax (10%)</span>
          <span id="cart-tax" class="font-bold">$0.00</span>
        </div>
        <div class="flex justify-between text-xl font-bold mb-6">
          <span>Total</span>
          <span id="cart-total">$0.00</span>
        </div>
        <button id="checkout-btn"
          class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
          disabled>
          Proceed to Checkout
        </button>
      </div>
    </div>
  </div>

  <section id="hero-carousel" class="relative h-[600px] w-full overflow-hidden text-white">
    <div id="hero-slides-container">
    </div>

    <div class="relative z-20 container mx-auto px-4 h-full flex flex-col justify-center items-center text-center">
      <h1 id="hero-heading" class="text-4xl md:text-6xl font-bold mb-6 animate-fadeInDown">
        Savor the Flavor
      </h1>
      <p id="hero-subheading" class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto animate-fadeInUp-500">
        Experience culinary excellence with our chef-crafted dishes made from the freshest ingredients.
      </p>
      <a href="#featured-dishes"
        class="inline-block bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition duration-300 transform hover:scale-105 shadow-lg animate-fadeInUp-800">
        Order Now
      </a>
    </div>

    <div id="carousel-indicators" class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-30 flex space-x-3">
    </div>
  </section>

  <section id="featured-dishes" class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Featured Dishes</h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div
          class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 transition duration-300 ease-in-out hover:-translate-y-2 hover:shadow-2xl">
          <img
            src="https://media.istockphoto.com/id/2232322550/photo/volcano-smash-burger-with-molten-cheddar-and-crispy-bacon.webp?a=1&b=1&s=612x612&w=0&k=20&c=wOt3ZwRzTnwAB0ukeDClt1NQAskvF7br1nQgb5ckNO4="
            alt="Gourmet Burger" class="w-full h-56 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-bold text-gray-800 mb-2">Gourmet Burger</h3>
            <p class="text-gray-600 mb-4">Juicy beef patty with fresh lettuce, tomatoes, and special sauce.
            </p>
            <div class="flex justify-between items-center">
              <span class="text-2xl font-bold text-red-600">$12.99</span>
              <button
                class="add-to-cart bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition duration-300"
                data-name="Gourmet Burger" data-price="12.99">
                Add to Cart
              </button>
            </div>
          </div>
        </div>

        <div
          class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 transition duration-300 ease-in-out hover:-translate-y-2 hover:shadow-2xl">
          <img
            src="https://images.unsplash.com/photo-1643644598156-858b6d62405b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8VHJ1ZmZsZSUyMFBhc3RhfGVufDB8fDB8fHww"
            alt="Truffle Pasta" class="w-full h-56 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-bold text-gray-800 mb-2">Truffle Pasta</h3>
            <p class="text-gray-600 mb-4">Creamy pasta with black truffle, mushrooms, and parmesan cheese.
            </p>
            <div class="flex justify-between items-center">
              <span class="text-2xl font-bold text-red-600">$16.99</span>
              <button
                class="add-to-cart bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition duration-300"
                data-name="Truffle Pasta" data-price="16.99">
                Add to Cart
              </button>
            </div>
          </div>
        </div>

        <div
          class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 transition duration-300 ease-in-out hover:-translate-y-2 hover:shadow-2xl">
          <img
            src="https://images.unsplash.com/photo-1677653805080-59c57727c84e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzZ8fFJhaW5ib3clMjBTYWxhZHxlbnwwfHwwfHx8MA%3D%3D"
            alt="Rainbow Salad" class="w-full h-56 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-bold text-gray-800 mb-2">Rainbow Salad</h3>
            <p class="text-gray-600 mb-4">Fresh mixed greens with seasonal vegetables and balsamic dressing.
            </p>
            <div class="flex justify-between items-center">
              <span class="text-2xl font-bold text-red-600">$10.99</span>
              <button
                class="add-to-cart bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition duration-300"
                data-name="Rainbow Salad" data-price="10.99">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="menu" class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-4">Our Menu</h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">Explore our delicious selection of dishes,
        carefully crafted to satisfy every palate.</p>

      <div class="flex justify-center mb-8">
        <div class="relative w-full max-w-lg">
          <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          <input type="text" id="menu-search" placeholder="Search entire menu (e.g., 'avocado toast', 'salmon')"
            class="w-full p-4 pl-12 border-2 border-red-200 rounded-full shadow-lg text-gray-700 placeholder-gray-400 focus:border-red-600 focus:ring-red-600 transition duration-300 ease-in-out"
            aria-label="Search menu items">
        </div>
      </div>

      <div class="flex justify-start md:justify-center mb-10 overflow-x-auto">
        <div class="flex rounded-lg border border-gray-200 overflow-hidden shadow-md min-w-max">
          <button
            class="menu-tab active py-3 px-4 font-medium whitespace-nowrap transition duration-300 text-sm md:text-base border-r border-gray-200"
            data-category="starters">⭐ Starters (Appetizers)</button>
          <button
            class="menu-tab py-3 px-4 font-medium whitespace-nowrap transition duration-300 text-sm md:text-base border-r border-gray-200"
            data-category="main_course">⭐ Main Course</button>
          <button
            class="menu-tab py-3 px-4 font-medium whitespace-nowrap transition duration-300 text-sm md:text-base border-r border-gray-200"
            data-category="sides">⭐ Sides</button>
          <button
            class="menu-tab py-3 px-4 font-medium whitespace-nowrap transition duration-300 text-sm md:text-base border-r border-gray-200"
            data-category="breakfast_brunch">⭐ Breakfast & Brunch</button>
          <button
            class="menu-tab py-3 px-4 font-medium whitespace-nowrap transition duration-300 text-sm md:text-base border-r border-gray-200"
            data-category="desserts">⭐ Desserts</button>
          <button class="menu-tab py-3 px-4 font-medium whitespace-nowrap transition duration-300 text-sm md:text-base"
            data-category="drinks">⭐ Drinks (Beverages)</button>
        </div>
      </div>

      <div id="menu-items" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      </div>
    </div>
  </section>

  <section id="about" class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center">
        <div style="max-width: 500px;" class="md:w-1/2 mb-10 md:mb-0">
          <img src="https://i.postimg.cc/XNKBHkt9/crust.png" alt="Restaurant Interior"
            class="rounded-xl shadow-lg w-full h-auto">
        </div>
        <div class="md:w-1/2 md:pl-12">
          <h2 class="text-3xl font-bold text-gray-800 mb-6">Our Story</h2>
          <p class="text-gray-600 mb-4">Founded in 2010, Tasty Crust has been serving the community with
            passion and dedication to culinary excellence. Our mission is to provide an unforgettable dining
            experience through innovative dishes made with locally sourced ingredients.</p>
          <p class="text-gray-600 mb-6">Our chefs combine traditional cooking techniques with modern flavors
            to create a menu that delights all senses. Whether you're joining us for a quick lunch or a
            celebratory dinner, we promise an exceptional experience.</p>
          <a href="#contact"
            class="inline-block bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300">
            Visit Us
          </a>
        </div>
      </div>
    </div>
  </section>
  </section>
  <section id="reservation" class="py-16 bg-red-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-4">Book Your Table</h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        Secure your spot for a wonderful dining experience. Fill out the form below!
      </p>

      <div class="max-w-3xl mx-auto bg-white p-8 md:p-10 rounded-xl shadow-2xl border border-red-200">
        <form id="reservation-form" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="res-date" class="block text-sm font-medium text-gray-700 mb-2">Date</label>
              <input type="date" id="res-date" name="res-date" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150">
            </div>
            <div>
              <label for="res-time" class="block text-sm font-medium text-gray-700 mb-2">Time</label>
              <select id="res-time" name="res-time" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150 bg-white">
                <option value="" disabled selected>Select a time</option>
                <option value="8:00">8:00 AM</option>
                <option value="9:00">9:00 AM</option>
                <option value="10:00">10:00 PM</option>
                <option value="11:00">11:00 PM</option>
                <option value="12:00">12:00 AM</option>
                <option value="13:00">1:00 PM</option>
                <option value="14:00">2:00 PM</option>
                <option value="15:00">3:00 PM</option>
                <option value="16:00">4:00 PM</option>
                <option value="17:00">5:00 PM</option>
                <option value="18:00">6:00 PM</option>
                <option value="19:00">7:00 PM</option>
                <option value="20:00">8:00 PM</option>
                <option value="21:00">9:00 PM</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="res-guests" class="block text-sm font-medium text-gray-700 mb-2">Number of
                Guests</label>
              <select id="res-guests" name="res-guests" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150 bg-white">
                <option value="" disabled selected>Select party size</option>
                <option value="1">1 Person</option>
                <option value="2">2 People</option>
                <option value="3">3 People</option>
                <option value="4">4 People</option>
                <option value="5">5 People</option>
                <option value="6+">6+ People (Please call)</option>
              </select>
            </div>
            <div>
              <label for="res-name" class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
              <input type="text" id="res-name" name="res-name" placeholder="Your Full Name" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150">
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="res-email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
              <input type="email" id="res-email" name="res-email" placeholder="you@example.com" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150">
            </div>
            <div>
              <label for="res-phone" class="block text-sm font-medium text-gray-700 mb-2">Phone
                Number</label>
              <input type="tel" id="res-phone" name="res-phone" placeholder="(+234) 987 654 3210" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150">
            </div>
          </div>

          <div>
            <label for="res-notes" class="block text-sm font-medium text-gray-700 mb-2">Special Requests
              (Optional)</label>
            <textarea id="res-notes" name="res-notes" rows="3"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150"
              placeholder="e.g., 'window seat', 'allergy to peanuts', 'anniversary celebration'"></textarea>
          </div>

          <button type="submit"
            class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg text-lg transition duration-300 transform hover:scale-[1.01] shadow-md">
            Confirm Reservation
          </button>
        </form>
      </div>
    </div>
  </section>
  <section id="contact" class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Contact Us</h2>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div class="bg-white p-8 rounded-xl shadow-md text-center">
          <div class="bg-red-100 text-red-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-map-marker-alt text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Address</h3>
          <p class="text-gray-600">123 New way Road, Creaving City, CC 10001</p>
        </div>

        <div class="bg-white p-8 rounded-xl shadow-md text-center">
          <div class="bg-red-100 text-red-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-clock text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Hours</h3>
          <p class="text-gray-600">7:30AM - 10:00PM</p>
        </div>
        <div class="bg-white p-8 rounded-xl shadow-md text-center">
          <div class="bg-red-100 text-red-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-phone-alt text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Phone</h3>
          <p class="text-gray-600">(+234) 987 654 3210</p>
        </div>

        <div class="bg-white p-8 rounded-xl shadow-md text-center">
          <div class="bg-red-100 text-red-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-envelope text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Email</h3>
          <p class="text-gray-600">TastyCrust@gmail.com</p>
        </div>

      </div>
    </div>
  </section>

  <footer class="foot text-black py-8 md:py-12">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:grid md:grid-cols-4 gap-6 md:gap-8 mb-8 md:mb-10">
        <!-- Logo Section -->
        <div class="md:col-span-1 flex flex-col items-center md:items-start">
          <img src="tasty.png" alt="Tasty Crust Logo"
            class="w-12 h-12 md:w-16 md:h-16 mb-3 md:mb-4 filter brightness-150">
          <h3 class="text-xl md:text-2xl font-bold text-red-500 mb-1 md:mb-2 text-center md:text-left">Tasty
            Crust</h3>
          <p class="text-gray-600 text-xs md:text-sm text-center md:text-left max-w-xs">
            Savor the Flavor. Modern ordering for a classic taste.
          </p>
        </div>

        <!-- Quick Links -->
        <div class="text-center md:text-left">
          <h4 class="text-lg md:text-xl font-semibold mb-3 md:mb-4 text-red-400">Quick Links</h4>
          <ul class="space-y-1 md:space-y-2">
            <li><a href="#"
                class="text-gray-600 hover:text-red-400 transition duration-300 text-sm md:text-base">Home</a>
            </li>
            <li><a href="#menu"
                class="text-gray-600 hover:text-red-400 transition duration-300 text-sm md:text-base">Menu</a>
            </li>
            <li><a href="#about"
                class="text-gray-600 hover:text-red-400 transition duration-300 text-sm md:text-base">Our
                Story</a></li>
            <li><a href="#contact"
                class="text-gray-600 hover:text-red-400 transition duration-300 text-sm md:text-base">Contact</a>
            </li>
          </ul>
        </div>

        <!-- Contact Info - Fixed Email Address -->
        <div class="text-center md:text-left">
          <h4 class="text-lg md:text-xl font-semibold mb-3 md:mb-4 text-red-400">Contact</h4>
          <ul class="space-y-2 md:space-y-3">
            <li class="flex flex-col md:flex-row items-center md:items-start gap-1 md:gap-3">
              <div class="flex items-center gap-2">
                <i class="fas fa-map-marker-alt text-red-400 text-sm md:text-base"></i>
                <p class="text-gray-600 text-xs md:text-sm text-center md:text-left">123 New way Road, Creaving City</p>
              </div>
            </li>
            <li class="flex flex-col md:flex-row items-center md:items-start gap-1 md:gap-3">
              <div class="flex items-center gap-2">
                <i class="fas fa-phone-alt text-red-400 text-sm md:text-base"></i>
                <p class="text-gray-600 text-xs md:text-sm text-center md:text-left">(+234) 987 654 3210
                </p>
              </div>
            </li>
            <li class="flex flex-col md:flex-row items-center md:items-start gap-1 md:gap-3">
              <div class="flex items-center gap-2">
                <i class="fas fa-envelope text-red-400 text-sm md:text-base"></i>
                <p class="text-gray-600 text-xs md:text-sm text-center md:text-left break-all md:break-normal">
                  TastyCrust@gmail.com</p>
              </div>
            </li>
          </ul>
        </div>

        <!-- Social Media -->
        <div class="text-center md:text-left">
          <h4 class="text-lg md:text-xl font-semibold mb-3 md:mb-4 text-red-400">Follow Us</h4>
          <div class="flex justify-center md:justify-start space-x-3 md:space-x-4">
            <a href="#" class="text-gray-600 hover:text-red-400 transition duration-300" aria-label="Facebook">
              <i class="fab fa-facebook-f text-xl md:text-2xl"></i>
            </a>
            <a href="#" class="text-gray-600 hover:text-red-400 transition duration-300" aria-label="Instagram">
              <i class="fab fa-instagram text-xl md:text-2xl"></i>
            </a>
            <a href="#" class="text-gray-600 hover:text-red-400 transition duration-300" aria-label="Twitter">
              <i class="fab fa-twitter text-xl md:text-2xl"></i>
            </a>
            <a href="#" class="text-gray-600 hover:text-red-400 transition duration-300" aria-label="Tripadvisor">
              <i class="fab fa-tripadvisor text-xl md:text-2xl"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="border-t border-gray-700 pt-6 md:pt-8 text-center text-gray-400 text-xs md:text-sm">
        <p>&copy; 2025 Tasty Crust. All rights reserved. | Crafted with <i class="fas fa-heart text-red-600 mx-1"></i>
        </p>
      </div>
    </div>
  </footer>
  <div id="notification-container" class="fixed top-24 right-4 z-60"></div>

  <script>
    const reservationForm = document.getElementById('reservation-form');
    if (reservationForm) {
      reservationForm.addEventListener('submit', function (e) {
        e.preventDefault();
        handleReservationSubmit(e.target);
      });
    }

    // Handle Reservation Form Submission
    function handleReservationSubmit(form) {
      const formData = {
        date: form.querySelector('#res-date').value,
        time: form.querySelector('#res-time').value,
        guests: form.querySelector('#res-guests').value,
        name: form.querySelector('#res-name').value,
        email: form.querySelector('#res-email').value,
        phone: form.querySelector('#res-phone').value,
        notes: form.querySelector('#res-notes').value,
      };

      // In a real application, you would send formData to a server here.
      console.log('Reservation Data:', formData);

      const reservationMessage = `Reservation confirmed for ${formData.guests} people on ${formData.date} at ${formData.time}!`;

      // Show success notification
      showNotification(reservationMessage, 'check-circle');

      // Optional: Clear the form
      form.reset();
    }

    // Update showNotification to accept an optional icon
    function showNotification(message, iconName = 'check-circle') {
      // Create notification element
      const notification = document.createElement('div');
      // Use bg-green-600 for a consistent success feel for both cart and reservation
      notification.className = 'bg-green-600 text-white px-6 py-3 rounded-lg shadow-xl animate-slideInRight flex items-center gap-3 mb-2';
      notification.innerHTML = `
                <i class="fas fa-${iconName}"></i>
                ${message}
            `;

      // Add to notification container
      notificationContainer.appendChild(notification);

      // Remove after 3 seconds
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(100px)';
        setTimeout(() => {
          notificationContainer.removeChild(notification);
        }, 300);
      }, 3000);
    }




    // Hero Carousel Configuration (UPDATED TO ARRAY OF OBJECTS)
    const HERO_IMAGES = [
      {
        url: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
        heading: 'Welcome to Tasty Crust',
        subheading: 'Experience culinary excellence with our chef-crafted dishes made from the freshest ingredients.'
      },
      {
        url: 'https://images.unsplash.com/photo-1559925393-8be0ec4767c8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1171&q=80',
        heading: 'Reserve Your Table Now',
        subheading: 'A perfect ambiance for every occasion, from intimate dinners to large celebrations.'
      },
      {
        url: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
        heading: 'Gourmet Dining Experience',
        subheading: 'Explore our carefully curated menu, featuring modern twists on classic favorites.'
      },
      {
        url: 'https://images.unsplash.com/photo-1514933651103-005eec06c04b?ixlib=rb-4.0.3&auto=format&fit=crop&w=2074&q=80',
        heading: 'Order Online & Enjoy',
        subheading: 'Get your favorite dishes delivered fast and fresh right to your doorstep.'
      }
    ];

    // Hero Carousel State
    let currentSlideIndex = 0;
    let carouselInterval;

    // MENU DATA: REFRACTORED TO SIX CATEGORIES
    const menuItems = {
      starters: [
        { id: 101, name: "French Fries", description: "Crispy golden potato fries, seasoned to perfection.", price: 4.99, image: "https://plus.unsplash.com/premium_photo-1672498329467-b27e2a97d29b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8ZnJlbmNoJTIwZnJpZXN8ZW58MHx8MHx8fDA%3D" },
        { id: 102, name: "Chicken Wings", description: "Tender chicken wings tossed in a spicy BBQ glaze.", price: 8.99, image: "https://plus.unsplash.com/premium_photo-1669742928112-19364a33b530?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Y2hpY2tlbnxlbnwwfHwwfHx8MA%3D%3D" },
        { id: 103, name: "Spring Rolls", description: "Crispy vegetable spring rolls served with sweet chili sauce.", price: 6.99, image: "https://saltedmint.com/wp-content/uploads/2024/01/Vegetable-Spring-Rolls-4-500x375.jpg" },
        { id: 104, name: "Garlic Bread", description: "Toasted Italian bread spread with rich garlic butter and herbs.", price: 5.99, image: "https://images.unsplash.com/photo-1573140401552-3fab0b24306f?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z2FybGljJTIwYnJlYW R8ZW58MHx8MHx8fDA%3D" },
        { id: 105, name: "Spaghetti and Seafood Pasta Dish", description: "A Shrimp spaghetti pasta with cherry tomatoes and fresh herbs, served in a light savory sauce.", price: 9.99, image: "https://images.unsplash.com/photo-1563379926898-05f4575a45d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80" },
        { id: 106, name: "Small Chops", description: "Assorted Nigerian appetizers (puff puff, samosa, spring rolls).", price: 10.99, image: "https://pastryempire.com/wp-content/uploads/2021/06/Screenshot_20210614-1035312-600x592.png" },
      ],
      main_course: [
        { id: 201, name: "Fried Rice & Chicken", description: "Fluffy rice stir-fried with mixed vegetables and a seasoned chicken thigh.", price: 14.99, image: "https://allnigerianfoods.com/wp-content/uploads/fried_rice_recipe-500x361.jpg" },
        { id: 202, name: "Pasta Alfredo", description: "Fettuccine pasta in a rich, creamy parmesan cheese sauce.", price: 16.99, image: "https://images.unsplash.com/photo-1574894709920-11b28e7367e3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80" },
        { id: 203, name: "Grilled Beef Steak", description: "Nice tenderloin steak with red wine reduction.", price: 28.99, image: "https://images.unsplash.com/photo-1600891964092-4316c288032e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80" },
        { id: 204, name: "Burger & Chips", description: "Classic Gourmet Burger with a side of crispy potato chips.", price: 12.99, image: "https://images.unsplash.com/photo-1576379392044-6d933410d374?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnVyZ2VyJTIwYW5kJTIwY2hpcHN8ZW58MHx8MHx8fDA%3D" },
        { id: 205, name: "Shawarma Plate", description: "Marinated meat slices served with a mix of rice, salad, and garlic sauce.", price: 15.99, image: "https://www.allrecipes.com/thmb/gErFllALd5ieWLGDOlN_S9uAsyU=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/52407-chicken-shawarma-VAT-003-4x3-01-3189bab443d14bf282ffcc3b87bcf55a.jpg" },
        { id: 206, name: "Pounded Yam & Egusi Soup", description: "Traditional Nigerian dish with velvety pounded yam and rich melon seed soup.", price: 18.99, image: "https://allnigerianfoods.com/wp-content/uploads/egusi_soup-1.jpg" },
      ],
      sides: [
        { id: 301, name: "Coleslaw", description: "Crisp shredded cabbage and carrots in a creamy dressing.", price: 3.99, image: "https://plus.unsplash.com/premium_photo-1692781059226-cd75729787b6?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Y29sZXNsYXd8ZW58MHx8MHx8fDA%3D" },
        { id: 302, name: "Fried Plantain", description: "Sweet, perfectly fried ripe plantain slices (Dodo).", price: 4.99, image: "https://media.istockphoto.com/id/1349383732/photo/fried-caramelized-plantains-served-with-lime-wedges.webp?a=1&b=1&s=612x612&w=0&k=20&c=0BhEUFJ7Zsz_a1OCqlOQ9F-_Wen5xwG39o1NyFp3-Mo=" },
        { id: 303, name: "Mashed Potatoes", description: "Smooth, buttery mashed potatoes, a perfect classic side.", price: 5.99, image: "https://plus.unsplash.com/premium_photo-1696835870634-e6484e8ed4d7?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8TWFzaGVkJTIwUG90YXRvZXN8ZW58MHx8MHx8fDA%3D" },
        { id: 304, name: "Onion Rings", description: "Thick-cut, battered and deep-fried onion rings.", price: 4.99, image: "https://plus.unsplash.com/premium_photo-1683121324272-90f4b4084ac9?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8b25pb24lMjByaW5nc3xlbnwwfHwwfHx8MA%3D%3D" },
        { id: 305, name: "Bread Rolls", description: "Soft, freshly baked bread rolls.", price: 2.99, image: "https://images.unsplash.com/photo-1555422528-28923af8b4b6?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YnJlYWQlMjByb2xsc3xlbnwwfHwwfHx8MA%3D%3D" },
        { id: 306, name: "Potato Wedges", description: "Thick, crispy potato wedges with a choice of dipping sauce.", price: 5.99, image: "https://images.unsplash.com/photo-1633959639799-6d3f66e05710?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cG90YXRvJTIwd2VkZ2VzfGVufDB8fDB8fHww" },
      ],
      breakfast_brunch: [
        { id: 401, name: "Pancakes", description: "Fluffy buttermilk pancakes with maple syrup and fresh berries.", price: 11.99, image: "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?ixlib=rb-4.0.3&auto=format&fit=crop&w=1080&q=80" },
        { id: 402, name: "Toast & Eggs", description: "Scrambled or fried eggs served with two slices of artisan toast.", price: 9.99, image: "https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-4.0.3&auto=format&fit=crop&w=1010&q=80" },
        { id: 403, name: "Breakfast Burrito", description: "Scrambled eggs, black beans, cheese, and salsa in a flour tortilla.", price: 10.99, image: "https://images.unsplash.com/photo-1551782450-17144efb9c50?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80" },
        { id: 404, name: "Waffles", description: "Golden-brown Belgian waffles topped with powdered sugar and fruit.", price: 10.99, image: "https://plus.unsplash.com/premium_photo-1664478298438-360c93ff1e51?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8d2FmZmxlc3xlbnwwfHwwfHx8MA%3D%3D" },
        { id: 405, name: "Omelette", description: "Three-egg omelette with your choice of three fillings.", price: 12.99, image: "https://plus.unsplash.com/premium_photo-1667807521536-bc35c8d8b64b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8b21lbGV0dGV8ZW58MHx8MHx8fDA%3D" },
        { id: 406, name: "Breakfast Sausage", description: "Two savory grilled breakfast sausages.", price: 5.99, image: "https://plus.unsplash.com/premium_photo-1712322782021-775c765c8c8e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8YnJlYWtmYXN0JTIwc2F1c2FnZXxlbnwwfHwwfHx8MA%3D%3D" },
      ],
      desserts: [
        { id: 501, name: "Ice Cream", description: "Two scoops of premium ice cream (vanilla, chocolate, or strawberry).", price: 5.99, image: "https://images.unsplash.com/photo-1576506295286-5cda18df43e7?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGljZSUyMGNyZWFtfGVufDB8fDB8fHww" },
        { id: 502, name: "Cheesecake", description: "Classic New York style cheesecake with a berry coulis.", price: 7.99, image: "https://plus.unsplash.com/premium_photo-1723651343962-75cd6cc5c308?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8Y2hlZXNlY2FrZXxlbnwwfHwwfHx8MA%3D%3D" },
        { id: 503, name: "Brownies", description: "Warm chocolate fudge brownie with a scoop of chocolate ice cream.", price: 6.99, image: "https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YnJvd25pZXxlbnwwfHwwfHx8MA%3D%3D" },
        { id: 504, name: "Fruit Salad", description: "A healthy mix of fresh, seasonal sliced fruit.", price: 5.99, image: "https://plus.unsplash.com/premium_photo-1664478279991-832059d65835?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8ZnJ1aXQlMjBzYWxhZHxlbnwwfHwwfHx8MA%3D%3D" },
        { id: 505, name: "Doughnuts", description: "Two glazed doughnuts with a dusting of cinnamon sugar.", price: 4.99, image: "https://plus.unsplash.com/premium_photo-1670333242665-30b397067c37?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" },
        { id: 506, name: "Milkshake", description: "Thick, creamy milkshake (chocolate, vanilla, or strawberry).", price: 6.99, image: "https://media.istockphoto.com/id/172192393/photo/milkshake-trio.webp?a=1&b=1&s=612x612&w=0&k=20&c=mh6GSqNWnPdVmo78R3TIX92Dj2Seus2e9scTG98ovEw=" },
      ],
      drinks: [
        { id: 601, name: "Soft Drinks (Coke, Fanta etc.)", description: "A variety of chilled sodas and sparkling beverages.", price: 2.99, image: "https://images.unsplash.com/photo-1665359045452-bfa257a2a6bf?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHNvZnQlMjBkcmlua3N8ZW58MHx8MHx8fDA%3D" },
        { id: 602, name: "Bottled Water", description: "Still or sparkling bottled water.", price: 1.99, image: "https://images.unsplash.com/photo-1563340605-4b8bfa223b32?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fGJvdHRsZWQlMjB3YXRlcnxlbnwwfHwwfHx8MA%3D%3D" }, // Reused image as placeholder
        { id: 603, name: "Fresh Juice", description: "Freshly squeezed orange, apple, or pineapple juice.", price: 4.99, image: "https://images.unsplash.com/photo-1621506289937-a8e4df240d0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80" },
        { id: 604, name: "Tea", description: "Selection of premium hot teas (English Breakfast, Green, Peppermint).", price: 3.99, image: "https://www.munatycooking.com/wp-content/uploads/2024/04/Three-glasses-filled-with-karak-chai.jpg" },
        { id: 605, name: "Coffee", description: "Freshly brewed coffee or espresso-based drinks (Latte, Cappuccino).", price: 4.99, image: "https://images.unsplash.com/photo-1461023058943-07fcbe16d735?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80" },
        { id: 606, name: "Smoothies", description: "Blended fruit smoothies (Berry, Tropical, Green).", price: 6.99, image: "https://images.unsplash.com/photo-1502741224143-90386d7f8c82?ixlib=rb-4.0.3&auto=format&fit=crop&w=1050&q=80" },
      ]
    };

    // Shopping cart
    let cart = [];

    // DOM elements
    const cartToggle = document.getElementById('cart-toggle');
    const closeCart = document.getElementById('close-cart');
    const cartSidebar = document.getElementById('cart-sidebar');
    const cartItemsContainer = document.getElementById('cart-items');
    const emptyCartMessage = document.getElementById('empty-cart-message');
    const cartCount = document.getElementById('cart-count');
    const cartSubtotal = document.getElementById('cart-subtotal');
    const cartTax = document.getElementById('cart-tax');
    const cartTotal = document.getElementById('cart-total');
    const checkoutBtn = document.getElementById('checkout-btn');
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuTabs = document.querySelectorAll('.menu-tab');
    const menuItemsContainer = document.getElementById('menu-items');
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    const heroSlidesContainer = document.getElementById('hero-slides-container');
    const carouselIndicators = document.getElementById('carousel-indicators');
    const notificationContainer = document.getElementById('notification-container');

    // NEW HERO TEXT ELEMENTS
    const heroHeading = document.getElementById('hero-heading');
    const heroSubheading = document.getElementById('hero-subheading');
    // NEW MENU SEARCH ELEMENT
    const menuSearchInput = document.getElementById('menu-search');
    // UPDATED default category to the first new category
    let currentCategory = 'starters';

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function () {
      // Initialize hero carousel
      initializeHeroCarousel();

      // Load 'starters' menu by default
      loadMenuItems();

      // Update cart from localStorage if available
      const savedCart = localStorage.getItem('tastyCrustCart');
      if (savedCart) {
        cart = JSON.parse(savedCart);
        updateCartDisplay();
      }

      // Set up event listeners
      setupEventListeners();
    });

    // Initialize Hero Carousel
    function initializeHeroCarousel() {
      // Create slides
      HERO_IMAGES.forEach((slideData, index) => {
        const slide = document.createElement('div');
        // 'hero-slide' classes are used here
        slide.className = `hero-slide absolute inset-0 w-full h-full ${index === 0 ? 'active' : 'inactive'}`;
        slide.innerHTML = `
                    <div class="absolute inset-0 bg-black/60 z-10"></div>
                    <img src="${slideData.url}" alt="Slide ${index + 1}" class="w-full h-full object-cover">
                `;
        heroSlidesContainer.appendChild(slide);
      });

      // Create indicators
      HERO_IMAGES.forEach((_, index) => {
        const indicator = document.createElement('button');
        indicator.className = `w-3 h-3 rounded-full transition-all duration-300 ${index === 0 ? 'bg-red-600 w-8' : 'bg-white/50 hover:bg-white'}`;
        indicator.setAttribute('aria-label', `Go to slide ${index + 1}`);
        indicator.addEventListener('click', () => goToSlide(index));
        carouselIndicators.appendChild(indicator);
      });

      // Set initial text
      updateHeroText(0);

      // Start auto-rotation
      startCarousel();
    }

    // Update Hero Text
    function updateHeroText(index) {
      const slideData = HERO_IMAGES[index];

      // Add animation classes for a smooth transition (classes defined in index.css)
      heroHeading.classList.add('animate-fadeInDown');
      heroSubheading.classList.add('animate-fadeInUp-500');

      // Update content
      heroHeading.textContent = slideData.heading;
      heroSubheading.textContent = slideData.subheading;

      // Remove animation classes after a short delay to allow them to re-trigger on next slide
      setTimeout(() => {
        heroHeading.classList.remove('animate-fadeInDown');
        heroSubheading.classList.remove('animate-fadeInUp-500');
      }, 1000); // 1s matches the animation duration
    }

    // Start carousel auto-rotation
    function startCarousel() {
      carouselInterval = setInterval(() => {
        goToSlide((currentSlideIndex + 1) % HERO_IMAGES.length);
      }, 5000);
    }

    // Go to specific slide
    function goToSlide(index) {
      // Update current index
      currentSlideIndex = index;

      // Update slides visibility
      const slides = document.querySelectorAll('.hero-slide');
      slides.forEach((slide, i) => {
        if (i === index) {
          slide.classList.remove('inactive');
          slide.classList.add('active');
        } else {
          slide.classList.remove('active');
          slide.classList.add('inactive');
        }
      });

      // Update indicators
      const indicators = carouselIndicators.querySelectorAll('button');
      indicators.forEach((indicator, i) => {
        if (i === index) {
          indicator.classList.add('bg-red-600', 'w-8');
          indicator.classList.remove('bg-white/50');
        } else {
          indicator.classList.remove('bg-red-600', 'w-8');
          indicator.classList.add('bg-white/50');
        }
      });

      // Update text content
      updateHeroText(index);

      // Reset auto-rotation timer
      clearInterval(carouselInterval);
      startCarousel();
    }

    // Set up all event listeners
    function setupEventListeners() {
      // Cart toggle
      cartToggle.addEventListener('click', toggleCart);
      closeCart.addEventListener('click', closeCartSidebar);

      // Mobile menu toggle
      mobileMenuToggle.addEventListener('click', toggleMobileMenu);

      // Menu tabs 
      menuTabs.forEach(tab => {
        tab.addEventListener('click', function () {
          currentCategory = this.getAttribute('data-category'); // Update current category

          // 1. Update active tab visually
          menuTabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');

          // 2. Clear the search input when switching tabs
          menuSearchInput.value = '';

          // 3. Load menu items for the new category (no search term)
          loadMenuItems();
        });
      });

      // Menu search input 
      menuSearchInput.addEventListener('input', function () {
        // Clear active tab state when searching globally
        menuTabs.forEach(t => t.classList.remove('active'));

        // Load menu items with the search term, ignoring currentCategory
        // Pass null for categoryOverride to ensure all items are searched
        loadMenuItems(null, this.value);
      });


      // Add to cart buttons in featured section
      addToCartButtons.forEach(button => {
        button.addEventListener('click', function () {
          const name = this.getAttribute('data-name');
          const price = parseFloat(this.getAttribute('data-price'));
          addToCart(name, price);
        });
      });

      // Checkout button
      checkoutBtn.addEventListener('click', checkout);

      // Close cart when clicking outside on mobile
      document.addEventListener('click', function (event) {
        if (window.innerWidth <= 768 &&
          !cartSidebar.contains(event.target) &&
          !cartToggle.contains(event.target) &&
          cartSidebar.classList.contains('translate-x-0')) { // Check for translate-x-0 (open state)
          closeCartSidebar();
        }
      });
    }

    // Load menu items for a specific category
    function loadMenuItems(categoryOverride = null, searchTerm = menuSearchInput.value) {
      const categoryToLoad = categoryOverride || currentCategory;

      let rawItems = [];
      const lowerCaseSearch = searchTerm.toLowerCase().trim();

      // 1. Determine the source of items (Global Search vs. Category View)
      if (lowerCaseSearch !== '' || categoryOverride === null) {
        // Global Search Mode: Iterate through ALL categories to create one list
        for (const key in menuItems) {
          if (menuItems.hasOwnProperty(key)) {
            rawItems = rawItems.concat(menuItems[key]);
          }
        }
      } else {
        // Category View Mode: Use only the currently selected category (and fall back to the first if an invalid category is somehow passed)
        rawItems = menuItems[categoryToLoad] || menuItems['starters'];
      }

      menuItemsContainer.innerHTML = '';

      // 2. Filter items based on search term
      let filteredItems = rawItems.filter(item => {
        if (lowerCaseSearch === '') {
          // In Category View Mode, only display items from the current category
          if (categoryOverride === null) {
            for (const key in menuItems) {
              if (menuItems[key].includes(item) && key !== categoryToLoad) {
                return false;
              }
            }
          }
          return true; // Show all if no search term (in Category View Mode)
        }

        // In Global Search Mode, filter all items by search term
        const itemName = item.name.toLowerCase();
        const itemDescription = item.description.toLowerCase();

        return itemName.includes(lowerCaseSearch) || itemDescription.includes(lowerCaseSearch);
      });

      // If in category view and search is empty, filter the full list again by the active category
      if (lowerCaseSearch === '' && categoryOverride === null) {
        filteredItems = menuItems[categoryToLoad] || menuItems['starters'];
      }

      // 3. Render Results
      if (filteredItems.length === 0) {
        const searchContext = lowerCaseSearch !== '' ? ` matching "${searchTerm}"` : '';
        const browseContext = lowerCaseSearch !== '' ? `Try searching a different keyword or selecting a menu tab to browse.` : `There are no items in this category.`;
        menuItemsContainer.innerHTML = `
                    <div class="col-span-full text-center py-10">
                        <p class="text-xl text-gray-500">No items found${searchContext}.</p>
                        <p class="text-gray-400">${browseContext}</p>
                    </div>
                `;
        return;
      }

      // Get a list of unique categories found in the results for display (for global search)
      if (lowerCaseSearch) {
        const uniqueCategories = [];
        // Map the internal keys to the display names used in the tabs
        const categoryDisplayMap = {
          starters: 'Starters (Appetizers)',
          main_course: 'Main Course',
          sides: 'Sides',
          breakfast_brunch: 'Breakfast & Brunch',
          desserts: 'Desserts',
          drinks: 'Drinks (Beverages)'
        };

        filteredItems.forEach(item => {
          for (const catKey in menuItems) {
            if (menuItems[catKey].some(i => i.id === item.id)) {
              const displayName = categoryDisplayMap[catKey] || catKey;
              if (!uniqueCategories.includes(displayName)) {
                uniqueCategories.push(displayName);
              }
            }
          }
        });

        if (uniqueCategories.length > 0) {
          const infoMessage = document.createElement('div');
          infoMessage.className = 'col-span-full text-center mb-6 py-2 border-b border-gray-200';
          infoMessage.innerHTML = `<p class="text-md font-semibold text-gray-700">Results found in: <span class="text-red-600 font-bold">${uniqueCategories.join(', ')}</span></p>`;
          menuItemsContainer.appendChild(infoMessage);
        }
      }


      filteredItems.forEach(item => {
        const menuItemElement = document.createElement('div');
        // Converted custom .dish-card styles to Tailwind utilities
        menuItemElement.className = 'bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 transition duration-300 ease-in-out hover:-translate-y-2 hover:shadow-2xl';
        menuItemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="w-full h-56 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">${item.name}</h3>
                        <p class="text-gray-600 mb-4">${item.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-red-600">$${item.price.toFixed(2)}</span>
                            <button class="add-to-cart-menu bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition duration-300" 
                                    data-name="${item.name}" data-price="${item.price}">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                `;

        menuItemsContainer.appendChild(menuItemElement);
      });

      // Add event listeners to new buttons
      document.querySelectorAll('.add-to-cart-menu').forEach(button => {
        button.addEventListener('click', function () {
          const name = this.getAttribute('data-name');
          const price = parseFloat(this.getAttribute('data-price'));
          addToCart(name, price);
        });
      });
    }

    // Add item to cart
    function addToCart(name, price) {
      // Check if item already exists in cart
      const existingItem = cart.find(item => item.name === name);

      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({
          name: name,
          price: price,
          quantity: 1
        });
      }

      // Update cart display
      updateCartDisplay();

      // Save to localStorage
      localStorage.setItem('tastyCrustCart', JSON.stringify(cart));

      // Show cart sidebar on mobile
      if (window.innerWidth <= 768) {
        openCartSidebar();
      }

      // Show notification
      showNotification(`${name} added to cart!`);
    }

    // Remove item from cart
    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCartDisplay();
      localStorage.setItem('tastyCrustCart', JSON.stringify(cart));
    }

    // Update quantity of item in cart
    function updateQuantity(index, newQuantity) {
      if (newQuantity < 1) {
        removeFromCart(index);
        return;
      }

      cart[index].quantity = newQuantity;
      updateCartDisplay();
      localStorage.setItem('tastyCrustCart', JSON.stringify(cart));
    }

    // Update cart display
    function updateCartDisplay() {
      // Clear cart items
      cartItemsContainer.innerHTML = '';

      // Calculate totals
      let subtotal = 0;

      if (cart.length === 0) {
        cartItemsContainer.appendChild(emptyCartMessage);
        checkoutBtn.disabled = true;
      } else {
        emptyCartMessage.remove();
        checkoutBtn.disabled = false;

        // Add each cart item
        cart.forEach((item, index) => {
          const itemTotal = item.price * item.quantity;
          subtotal += itemTotal;

          // 'cart-item' class is defined in index.css for the slide-in animation
          const cartItemElement = document.createElement('div');
          cartItemElement.className = 'cart-item flex items-center justify-between py-4 border-b border-gray-200';
          cartItemElement.innerHTML = `
                        <div class="flex-1">
                            <h4 class="font-bold text-gray-800">${item.name}</h4>
                            <p class="text-gray-600">$${item.price.toFixed(2)} each</p>
                        </div>
                        <div class="flex items-center">
                            <button class="decrease-quantity text-gray-500 hover:text-red-600 mr-2" data-index="${index}">
                                <i class="fas fa-minus text-sm"></i>
                            </button>
                            <span class="quantity mx-2 font-bold">${item.quantity}</span>
                            <button class="increase-quantity text-gray-500 hover:text-red-600 ml-2" data-index="${index}">
                                <i class="fas fa-plus text-sm"></i>
                            </button>
                            <span class="ml-4 font-bold text-gray-800">$${itemTotal.toFixed(2)}</span>
                            <button class="remove-item text-red-500 hover:text-red-700 ml-4" data-index="${index}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;

          cartItemsContainer.appendChild(cartItemElement);
        });

        // Add event listeners to cart item buttons
        document.querySelectorAll('.decrease-quantity').forEach(button => {
          button.addEventListener('click', function () {
            const index = parseInt(this.getAttribute('data-index'));
            updateQuantity(index, cart[index].quantity - 1);
          });
        });

        document.querySelectorAll('.increase-quantity').forEach(button => {
          button.addEventListener('click', function () {
            const index = parseInt(this.getAttribute('data-index'));
            updateQuantity(index, cart[index].quantity + 1);
          });
        });

        document.querySelectorAll('.remove-item').forEach(button => {
          button.addEventListener('click', function () {
            const index = parseInt(this.getAttribute('data-index'));
            removeFromCart(index);
          });
        });
      }

      // Calculate tax and total
      const tax = subtotal * 0.10;
      const total = subtotal + tax;

      // Update display
      cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartSubtotal.textContent = `$${subtotal.toFixed(2)}`;
      cartTax.textContent = `$${tax.toFixed(2)}`;
      cartTotal.textContent = `$${total.toFixed(2)}`;
    }

    // Toggle cart sidebar
    function toggleCart() {
      if (cartSidebar.classList.contains('translate-x-full')) {
        openCartSidebar();
      } else {
        closeCartSidebar();
      }
    }

    // Open cart sidebar: Using Tailwind translate-x-0
    function openCartSidebar() {
      cartSidebar.classList.remove('translate-x-full');
      cartSidebar.classList.add('translate-x-0');
    }

    // Close cart sidebar: Using Tailwind translate-x-full
    function closeCartSidebar() {
      cartSidebar.classList.remove('translate-x-0');
      cartSidebar.classList.add('translate-x-full');
    }

    // Toggle mobile menu
    function toggleMobileMenu() {
      mobileMenu.classList.toggle('hidden');
    }

    // Checkout function
    function checkout() {
      if (cart.length === 0) return;

      alert(`Thank you for your order! Your total is $${cartTotal.textContent.replace('$', '')}.\n`);

      // Clear cart
      cart = [];
      updateCartDisplay();
      localStorage.removeItem('tastyCrustCart');
      closeCartSidebar();
    }

    // Show notification (uses animate-slideInRight from index.css)
    function showNotification(message) {
      // Create notification element
      const notification = document.createElement('div');
      notification.className = 'bg-green-600 text-white px-6 py-3 rounded-lg shadow-xl animate-slideInRight flex items-center gap-3 mb-2';
      notification.innerHTML = `
                <i class="fas fa-check-circle"></i>
                ${message}
            `;

      // Add to notification container
      notificationContainer.appendChild(notification);

      // Remove after 3 seconds
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(100px)';
        setTimeout(() => {
          notificationContainer.removeChild(notification);
        }, 300);
      }, 3000);
    }
  </script>
</body>

</html>